<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Document</title>
    <script src="tic.js"></script>
    <style>
        body {
            background-image: url('toe.jpg');
            text-align: center;
        }

        #board {
            margin: 0 auto;
            border-collapse: collapse;
            border-style: hidden;


        }

        #start {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            width: 100px;
            font-size: larger;
            font-weight: 800;
            color: Black;
        }

        table td {
            font-size: 30px;
            padding: 50px;
            border: 5px solid red;

        }

        #names {
            font-size: 20px;
            font-weight: 800;
        }

        #PL1 {
            text-align: center;
            font-size: 20px solid Red;

        }

        #User_Submit {
            font-size: 20px;
            font-weight: 800;
            color: black;
        }

        #submit {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            width: 100px;
            font-size: larger;
            font-weight: 800;
            color: Black;
        }

        h1 {
            color: white;
            font-size: 200%;
        }

        .confetti {
            max-width: 50%;
            max-height: 70%;
            display: block;
            margin: auto;

            user-select: none;
        }
    </style>
</head>

<body>

    

    <div class="names" id="names">
        <label>Enter player one name</label>
        <input type="text" id="P1" placeholder="Player one name"> &nbsp;&nbsp;&nbsp;
        <label>Enter player two name</label>
        <input type="text" id="P2" placeholder="Player two name"> <br><br><br>
        <input type="button" name="start" id="start" value="start" onclick="tictac()"></button> <br><br>
    </div>
    <div id="User_Submit" style="display:none">
        <label>Enter a Number between 1 to 9</label>
        <input type="text" id="user_input">
        <input type="submit" id="submit" onclick="game()">
        <input type="submit" value="Play again!" id="play again!" onclick="again()"> <br><br><br><br>

    </div>


    <table id="board">

        <tr>
            <td id="1"> </td>
            <td id="2"> </td>
            <td id="3"> </td>
        </tr>
        <tr>
            <td id="4"> </td>
            <td id="5"> </td>
            <td id="6"> </td>
        </tr>
        <tr>
            <td id="7"> </td>
            <td id="8"> </td>
            <td id="9"> </td>
        </tr>

    </table>
    </div>


    <h1 id="PL1"></h1>
    <canvas class="confetti" id="canvas"></canvas>
    <script>
        document.getElementById("canvas").style.display = "block";
        var P1, P2;
        var input;
        var prevstate = [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '];
        var PL1 = document.getElementById("PL1");
        var counter = 0;
        var Y = true;
        var win = document.getElementById("win");
        var c1 = document.getElementById("1");
        var c2 = document.getElementById("2");
        var c3 = document.getElementById("3");
        var c4 = document.getElementById("4");
        var c5 = document.getElementById("5")
        var c6 = document.getElementById("6");
        var c7 = document.getElementById("7");
        var c8 = document.getElementById("8");
        var c9 = document.getElementById("9");



        function tictac() {

            P1 = document.getElementById("P1").value;
            P2 = document.getElementById("P2").value;
            document.getElementById("names").style.display = "none";
            document.getElementById("User_Submit").style.display = "block";
        }
        function game() {
            input = document.getElementById("user_input").value;
            document.getElementById("PL1").style.color = "blue;"
            document.getElementById("user_input").value = "";

            if (Y == true) {

                document.getElementById("PL1").innerHTML = P2 + "  turn ";


                if (input == 1 && c1.innerHTML == " ") {
                    c1.innerHTML = "X";
                    Y = false;
                }
                else if (input == 2 && c2.innerHTML == " ") {
                    c2.innerHTML = "X";
                    Y = false;
                }
                else if (input == 3 && c3.innerHTML == " ") {
                    c3.innerHTML = "X";
                    Y = false;
                }
                else if (input == 4 && c4.innerHTML == " ") {
                    c4.innerHTML = "X";
                    Y = false;
                }
                else if (input == 5 && c5.innerHTML == " ") {
                    c5.innerHTML = "X";
                    Y = false;
                }
                else if (input == 6 && c6.innerHTML == " ") {
                    c6.innerHTML = "X";
                    Y = false;
                }
                else if (input == 7 && c7.innerHTML == " ") {
                    c7.innerHTML = "X";
                    Y = false;
                }
                else if (input == 8 && c8.innerHTML == " ") {
                    c8.innerHTML = "X";
                    Y = false;
                }
                else if (input == 9 && c9.innerHTML == " ") {
                    c9.innerHTML = "X";
                    Y = false;
                }
                else {
                    alert("already entered ,choose other cell");
                    Y = true;
                }


            }
            else {
                document.getElementById("PL1").innerHTML = P1 + " turn ";


                if (input == 1 && c1.innerHTML == " ") {
                    c1.innerHTML = "O";
                    Y = true;
                }
                else if (input == 2 && c2.innerHTML == " ") {
                    c2.innerHTML = "O";
                    Y = true;
                }
                else if (input == 3 && c3.innerHTML == " ") {
                    c3.innerHTML = "O";
                    Y = true;
                }
                else if (input == 4 && c4.innerHTML == " ") {
                    c4.innerHTML = "O";
                    Y = true;
                }
                else if (input == 5 && c5.innerHTML == " ") {
                    c5.innerHTML = "O";
                    Y = true;
                }
                else if (input == 6 && c6.innerHTML == " ") {
                    c6.innerHTML = "O";
                    Y = true;
                }
                else if (input == 7 && c7.innerHTML == " ") {
                    c7.innerHTML = "O";
                    Y = true;
                }
                else if (input == 8 && c8.innerHTML == " ") {
                    c8.innerHTML = "O";
                    Y = true;
                }
                else if (input == 9 && c9.innerHTML == " ") {
                    c9.innerHTML = "O";
                    Y = true;
                }

                else {
                    alert("already entered ,choose other cell");
                    Y = false;
                }

            }
            if ((c1.innerHTML == 'X' && c2.innerHTML == 'X' && c3.innerHTML == 'X') || (c1.innerHTML == 'O' && c2.innerHTML == 'O' && c3.innerHTML == 'O')) {
                if (c1.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();




                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();
                }
            }
            if ((c4.innerHTML == 'X' && c5.innerHTML == 'X' && c6.innerHTML == 'X') || (c4.innerHTML == 'O' && c5.innerHTML == 'O' && c6.innerHTML == 'O')) {
                if (c4.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();

                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();
                }
            }
            if ((c7.innerHTML == 'X' && c8.innerHTML == 'X' && c9.innerHTML == 'X') || (c7.innerHTML == 'O' && c8.innerHTML == 'O' && c9.innerHTML == 'O')) {
                if (c7.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();
                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            if ((c1.innerHTML == 'X' && c4.innerHTML == 'X' && c7.innerHTML == 'X') || (c1.innerHTML == 'O' && c4.innerHTML == 'O' && c7.innerHTML == 'O')) {
                if (c1.innerHTML == 'X') {
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            if ((c2.innerHTML == 'X' && c5.innerHTML == 'X' && c8.innerHTML == 'X') || (c2.innerHTML == 'O' && c5.innerHTML == 'O' && c8.innerHTML == 'O')) {
                if (c2.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            if ((c3.innerHTML == 'X' && c6.innerHTML == 'X' && c9.innerHTML == 'X') || (c3.innerHTML == 'O' && c6.innerHTML == 'O' && c9.innerHTML == 'O')) {
                if (c3.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            if ((c1.innerHTML == 'X' && c5.innerHTML == 'X' && c9.innerHTML == 'X') || (c1.innerHTML == 'O' && c5.innerHTML == 'O' && c9.innerHTML == 'O')) {
                if (c1.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            if ((c3.innerHTML == 'X' && c5.innerHTML == 'X' && c7.innerHTML == 'X') || (c3.innerHTML == 'O' && c5.innerHTML == 'O' && c7.innerHTML == 'O')) {
                if (c3.innerHTML == 'X') {
                    alert(P1 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
                else {
                    alert(P2 + " won ");
                    document.getElementById("canvas").style.display = "block";
                    initConfetti();
                    render();                }
            }
            else if ((c1.innerHTML == 'X' || c1.innerHTML == 'O') && (c2.innerHTML == 'X' || c2.innerHTML == 'O') && (c3.innerHTML == 'X' || c3.innerHTML == 'O') && (c4.innerHTML == 'X' || c4.innerHTML == 'O') && (c5.innerHTML == 'X' || c5.innerHTML == 'O') && (c6.innerHTML == 'X' || c6.innerHTML == 'O') && (c7.innerHTML == 'X' || c7.innerHTML == 'O') && (c8.innerHTML == 'X' || c8.innerHTML == 'O') && (c9.innerHTML == 'X' || c9.innerHTML == 'O')) {

                alert(" No One Won The Game ");
                reset();

            }

        }
        function again() {
            document.getElementById("canvas").style.display = "none";
            reset();
        }


        function reset() {
            c1.innerHTML = " ";
            c2.innerHTML = " ";
            c3.innerHTML = " ";
            c4.innerHTML = " ";
            c5.innerHTML = " ";
            c6.innerHTML = " ";
            c7.innerHTML = " ";
            c8.innerHTML = " ";
            c9.innerHTML = " ";
            PL1.innerHTML = " ";


        }







    </script>

    <script>//-----------Var Inits--------------
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        cx = ctx.canvas.width / 2;
        cy = ctx.canvas.height / 2;

        let confetti = [];
        const confettiCount = 10;
        const gravity = 0.5;
        const terminalVelocity = 5;
        const drag = 0.075;
        const colors = [
            { front: 'red', back: 'darkred' },
            { front: 'green', back: 'darkgreen' },
            { front: 'blue', back: 'darkblue' },
            { front: 'yellow', back: 'darkyellow' },
            { front: 'orange', back: 'darkorange' },
            { front: 'pink', back: 'darkpink' },
            { front: 'purple', back: 'darkpurple' },
            { front: 'turquoise', back: 'darkturquoise' }];


        //-----------Functions--------------
        resizeCanvas = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            cx = ctx.canvas.width / 2;
            cy = ctx.canvas.height / 2;
        };

        randomRange = (min, max) => Math.random() * (max - min) + min;

        initConfetti = () => {
            for (let i = 0; i < confettiCount; i++) {
                confetti.push({
                    color: colors[Math.floor(randomRange(0, colors.length))],
                    dimensions: {
                        x: randomRange(30, 50),
                        y: randomRange(60, 30)
                    },

                    position: {
                        x: randomRange(0, canvas.width),
                        y: canvas.height - 1
                    },

                    rotation: randomRange(0, 2 * Math.PI),
                    scale: {
                        x: 1,
                        y: 1
                    },

                    velocity: {
                        x: randomRange(-25, 25),
                        y: randomRange(0, -50)
                    }
                });


            }
        };

        //---------Render-----------
        render = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            confetti.forEach((confetto, index) => {
                let width = confetto.dimensions.x * confetto.scale.x;
                let height = confetto.dimensions.y * confetto.scale.y;

                // Move canvas to position and rotate
                ctx.translate(confetto.position.x, confetto.position.y);
                ctx.rotate(confetto.rotation);

                // Apply forces to velocity
                confetto.velocity.x -= confetto.velocity.x * drag;
                confetto.velocity.y = Math.min(confetto.velocity.y + gravity, terminalVelocity);
                confetto.velocity.x += Math.random() > 0.5 ? Math.random() : -Math.random();

                // Set position
                confetto.position.x += confetto.velocity.x;
                confetto.position.y += confetto.velocity.y;

                // Delete confetti when out of frame
                if (confetto.position.y >= canvas.height) confetti.splice(index, 1);

                // Loop confetto x position
                if (confetto.position.x > canvas.width) confetto.position.x = 0;
                if (confetto.position.x < 0) confetto.position.x = canvas.width;

                // Spin confetto by scaling y
                confetto.scale.y = Math.cos(confetto.position.y * 0.1);
                ctx.fillStyle = confetto.scale.y > 0 ? confetto.color.front : confetto.color.back;

                // Draw confetti
                ctx.fillRect(-width / 2, -height / 2, width, height);

                // Reset transform matrix
                ctx.setTransform(1, 0, 0, 1, 0, 0);
            });

            // Fire off another round of confetti
            if (confetti.length <= 10) initConfetti();

            window.requestAnimationFrame(render);
        };

        //---------Execution--------


        //----------Resize----------
        window.addEventListener('resize', function () {
            resizeCanvas();
        });

        //------------Click------------
        window.addEventListener('click', function () {
            initConfetti();
        });
    </script>


</body>

</html>